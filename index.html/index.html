<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta name="google-site-verification" content="oJVrfjP_ntA83MdfbD6EfMjvkFnGSQFdty_8FgMy-wk">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B\S PARTS - ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªØ®ØµØµÛŒ Ù„ÙˆØ§Ø²Ù… ÛŒØ¯Ú©ÛŒ Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒ Ø¢Ù„Ù…Ø§Ù†ÛŒ</title>
    <meta name="description" content="ÙØ±ÙˆØ´ Ù„ÙˆØ§Ø²Ù… ÛŒØ¯Ú©ÛŒ Ø§ØµÙ„ BMWØŒ Ù…Ø±Ø³Ø¯Ø³ Ø¨Ù†Ø² Ùˆ Ù¾ÙˆØ±Ø´Ù‡ Ø¨Ø§ Ú¯Ø§Ø±Ø§Ù†ØªÛŒ Ù…Ø¹ØªØ¨Ø±">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'vazir': ['Vazir', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Vazir:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Vazir', sans-serif; 
            background: #f5f5f7;
        }
        
        .product-card {
            transition: all 0.3s ease;
        }
        
        .product-card:hover { 
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .cart-badge { 
            background: #ff3b30;
        }
        
        .apple-button {
            background: #007aff;
            transition: all 0.2s ease;
        }
        
        .apple-button:hover {
            background: #0056cc;
        }
        
        .apple-nav {
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(20px);
        }
        
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .dropdown-menu {
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }
        
        .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .star-rating {
            color: #ffd700;
        }
        
        .out-of-stock {
            opacity: 0.6;
        }
        
        .discount-badge {
            background: #ff3b30;
            color: white;
            font-size: 0.75rem;
            padding: 2px 6px;
            border-radius: 4px;
            position: absolute;
            top: 8px;
            right: 8px;
        }
        
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        @media (max-width: 768px) {
            .dropdown-menu {
                position: fixed !important;
                top: auto !important;
                bottom: 0 !important;
                left: 0 !important;
                right: 0 !important;
                width: 100% !important;
                border-radius: 16px 16px 0 0 !important;
                max-height: 50vh;
                overflow-y: auto;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Contact Bar -->
    <div class="bg-black text-white py-2">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row items-center justify-center space-y-1 md:space-y-0 md:space-x-8 md:space-x-reverse text-xs md:text-sm">
                <div class="flex items-center space-x-2 space-x-reverse">
                    <span>ğŸ“±</span>
                    <span class="select-none">Ù…ÙˆØ¨Ø§ÛŒÙ„: 09124583607</span>
                </div>
                <div class="flex items-center space-x-2 space-x-reverse">
                    <span>â˜ï¸</span>
                    <span class="select-none">Ø¯ÙØªØ±: 02136059698</span>
                </div>
                <div class="flex items-center space-x-2 space-x-reverse">
                    <span>ğŸšš</span>
                    <span class="hidden md:inline">Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ø§Ù„Ø§ÛŒ 5 Ù…ÛŒÙ„ÛŒÙˆÙ† ØªÙˆÙ…Ø§Ù†</span>
                    <span class="md:hidden">Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù†</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="apple-nav border-b border-gray-200 sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between py-3">
                <div class="flex items-center">
                    <div class="text-lg md:text-2xl font-semibold text-gray-900">B\S PARTS</div>
                </div>
                
                <div class="flex-1 max-w-md md:max-w-2xl mx-4 md:mx-8">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="Ø¬Ø³ØªØ¬Ùˆ..." 
                               class="w-full px-3 md:px-4 py-2 bg-gray-100 border-0 rounded-full focus:outline-none focus:bg-white focus:shadow-sm text-sm"
                               onkeyup="searchProducts()" onkeypress="handleSearchEnter(event)">
                        <button onclick="performSearch()" class="absolute left-2 md:left-3 top-2 md:top-2.5 text-gray-400 hover:text-gray-600">ğŸ”</button>
                        <div id="searchSuggestions" class="absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 hidden max-h-60 overflow-y-auto z-50">
                            <!-- Search suggestions will appear here -->
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-2 md:space-x-4 space-x-reverse">
                    <button onclick="showUserPanel()" class="text-gray-600 hover:text-gray-900 text-xs md:text-sm flex items-center space-x-1 space-x-reverse">
                        <span>ğŸ‘¤</span>
                        <span id="userDisplayName" class="hidden md:inline">ÙˆØ±ÙˆØ¯</span>
                    </button>
                    <button onclick="showWishlist()" class="relative p-1 md:p-2 text-gray-600 hover:text-gray-900">
                        <span class="text-lg md:text-xl">â¤ï¸</span>
                        <span id="wishlistBadge" class="absolute -top-1 -right-1 text-white text-xs rounded-full w-4 h-4 md:w-5 md:h-5 flex items-center justify-center cart-badge">0</span>
                    </button>
                    <button onclick="showAdminLogin()" class="text-gray-600 hover:text-gray-900 text-xs md:text-sm hidden md:block">
                        Ù…Ø¯ÛŒØ±ÛŒØª
                    </button>
                    <button onclick="toggleCart()" class="relative p-1 md:p-2 text-gray-600 hover:text-gray-900">
                        <span class="text-lg md:text-xl">ğŸ›’</span>
                        <span id="cartBadge" class="absolute -top-1 -right-1 text-white text-xs rounded-full w-4 h-4 md:w-5 md:h-5 flex items-center justify-center cart-badge">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation with Dropdown Menus -->
    <nav class="bg-white border-b border-gray-100">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-center space-x-2 md:space-x-8 space-x-reverse py-3 text-xs md:text-sm overflow-x-auto">
                <!-- BMW Dropdown -->
                <div class="relative dropdown">
                    <a href="#" onclick="filterByBrand('BMW')" class="text-gray-600 hover:text-gray-900 flex items-center space-x-1 space-x-reverse whitespace-nowrap">
                        <span>BMW</span>
                        <span class="text-xs hidden md:inline">â–¼</span>
                    </a>
                    <div class="dropdown-menu absolute top-full right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 w-48 z-40">
                        <a href="#" onclick="filterByCategory('BMW', 'brake')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ù„Ù†Øª Ùˆ Ø¯ÛŒØ³Ú© ØªØ±Ù…Ø²</a>
                        <a href="#" onclick="filterByCategory('BMW', 'suspension')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ø³ÛŒØ³ØªÙ… ØªØ¹Ù„ÛŒÙ‚</a>
                        <a href="#" onclick="filterByCategory('BMW', 'engine')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ù‚Ø·Ø¹Ø§Øª Ù…ÙˆØªÙˆØ±</a>
                        <a href="#" onclick="filterByCategory('BMW', 'gearbox')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ú¯ÛŒØ±Ø¨Ú©Ø³ Ùˆ Ø¯ÛŒÙØ±Ø§Ù†Ø³ÛŒÙ„</a>
                        <a href="#" onclick="filterByCategory('BMW', 'electrical')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ø³ÛŒØ³ØªÙ… Ø¨Ø±Ù‚</a>
                        <a href="#" onclick="filterByCategory('BMW', 'body')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ù„ÙˆØ§Ø²Ù… Ø¨Ø¯Ù†Ù‡</a>
                    </div>
                </div>
                
                <!-- Mercedes Dropdown -->
                <div class="relative dropdown">
                    <a href="#" onclick="filterByBrand('Mercedes')" class="text-gray-600 hover:text-gray-900 flex items-center space-x-1 space-x-reverse whitespace-nowrap">
                        <span class="hidden md:inline">Ù…Ø±Ø³Ø¯Ø³ Ø¨Ù†Ø²</span>
                        <span class="md:hidden">Ù…Ø±Ø³Ø¯Ø³</span>
                        <span class="text-xs hidden md:inline">â–¼</span>
                    </a>
                    <div class="dropdown-menu absolute top-full right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 w-48 z-40">
                        <a href="#" onclick="filterByCategory('Mercedes', 'brake')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ù„Ù†Øª Ùˆ Ø¯ÛŒØ³Ú© ØªØ±Ù…Ø²</a>
                        <a href="#" onclick="filterByCategory('Mercedes', 'suspension')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ø³ÛŒØ³ØªÙ… ØªØ¹Ù„ÛŒÙ‚</a>
                        <a href="#" onclick="filterByCategory('Mercedes', 'engine')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ù‚Ø·Ø¹Ø§Øª Ù…ÙˆØªÙˆØ±</a>
                        <a href="#" onclick="filterByCategory('Mercedes', 'gearbox')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ú¯ÛŒØ±Ø¨Ú©Ø³ Ùˆ Ø¯ÛŒÙØ±Ø§Ù†Ø³ÛŒÙ„</a>
                        <a href="#" onclick="filterByCategory('Mercedes', 'electrical')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ø³ÛŒØ³ØªÙ… Ø¨Ø±Ù‚</a>
                        <a href="#" onclick="filterByCategory('Mercedes', 'body')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ù„ÙˆØ§Ø²Ù… Ø¨Ø¯Ù†Ù‡</a>
                    </div>
                </div>
                
                <!-- Porsche Dropdown -->
                <div class="relative dropdown">
                    <a href="#" onclick="filterByBrand('Porsche')" class="text-gray-600 hover:text-gray-900 flex items-center space-x-1 space-x-reverse whitespace-nowrap">
                        <span>Ù¾ÙˆØ±Ø´Ù‡</span>
                        <span class="text-xs hidden md:inline">â–¼</span>
                    </a>
                    <div class="dropdown-menu absolute top-full right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 w-48 z-40">
                        <a href="#" onclick="filterByCategory('Porsche', 'brake')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ù„Ù†Øª Ùˆ Ø¯ÛŒØ³Ú© ØªØ±Ù…Ø²</a>
                        <a href="#" onclick="filterByCategory('Porsche', 'suspension')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ø³ÛŒØ³ØªÙ… ØªØ¹Ù„ÛŒÙ‚</a>
                        <a href="#" onclick="filterByCategory('Porsche', 'engine')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ù‚Ø·Ø¹Ø§Øª Ù…ÙˆØªÙˆØ±</a>
                        <a href="#" onclick="filterByCategory('Porsche', 'gearbox')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ú¯ÛŒØ±Ø¨Ú©Ø³ Ùˆ Ø¯ÛŒÙØ±Ø§Ù†Ø³ÛŒÙ„</a>
                        <a href="#" onclick="filterByCategory('Porsche', 'electrical')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ø³ÛŒØ³ØªÙ… Ø¨Ø±Ù‚</a>
                        <a href="#" onclick="filterByCategory('Porsche', 'body')" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Ù„ÙˆØ§Ø²Ù… Ø¨Ø¯Ù†Ù‡</a>
                    </div>
                </div>
                
                <a href="#" onclick="filterByBrand('all')" class="text-gray-600 hover:text-gray-900 whitespace-nowrap">Ù‡Ù…Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</a>
                <a href="#" onclick="showCompareProducts()" class="text-gray-600 hover:text-gray-900 whitespace-nowrap hidden md:inline">Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</a>
            </div>
        </div>
    </nav>

    <!-- Advanced Filters -->
    <div class="bg-gray-50 border-b border-gray-200">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row items-start md:items-center space-y-2 md:space-y-0 md:space-x-4 md:space-x-reverse text-xs md:text-sm">
                <span class="text-gray-600 hidden md:inline">ÙÛŒÙ„ØªØ±:</span>
                <div class="flex flex-wrap items-center gap-2 w-full">
                    <select id="priceFilter" onchange="applyFilters()" class="px-2 md:px-3 py-1 bg-white border border-gray-300 rounded-lg text-xs md:text-sm flex-1 md:flex-none">
                        <option value="all">Ù‡Ù…Ù‡ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§</option>
                        <option value="0-2000000">Ø²ÛŒØ± 2 Ù…ÛŒÙ„ÛŒÙˆÙ†</option>
                        <option value="2000000-5000000">2 ØªØ§ 5 Ù…ÛŒÙ„ÛŒÙˆÙ†</option>
                        <option value="5000000-10000000">5 ØªØ§ 10 Ù…ÛŒÙ„ÛŒÙˆÙ†</option>
                        <option value="10000000-999999999">Ø¨Ø§Ù„Ø§ÛŒ 10 Ù…ÛŒÙ„ÛŒÙˆÙ†</option>
                    </select>
                    <select id="stockFilter" onchange="applyFilters()" class="px-2 md:px-3 py-1 bg-white border border-gray-300 rounded-lg text-xs md:text-sm flex-1 md:flex-none">
                        <option value="all">Ù‡Ù…Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</option>
                        <option value="instock">Ù…ÙˆØ¬ÙˆØ¯</option>
                        <option value="outofstock">Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯</option>
                    </select>
                    <select id="sortFilter" onchange="applyFilters()" class="px-2 md:px-3 py-1 bg-white border border-gray-300 rounded-lg text-xs md:text-sm flex-1 md:flex-none">
                        <option value="newest">Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ†</option>
                        <option value="price-low">Ø§Ø±Ø²Ø§Ù†â€ŒØªØ±ÛŒÙ†</option>
                        <option value="price-high">Ú¯Ø±Ø§Ù†â€ŒØªØ±ÛŒÙ†</option>
                        <option value="rating">Ø¨Ù‡ØªØ±ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø²</option>
                        <option value="popular">Ù…Ø­Ø¨ÙˆØ¨â€ŒØªØ±ÛŒÙ†</option>
                    </select>
                    <button onclick="clearFilters()" class="px-2 md:px-3 py-1 text-gray-600 hover:text-gray-900 text-xs md:text-sm whitespace-nowrap">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Banner -->
    <section class="hero-section py-12 md:py-20">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-3xl md:text-5xl font-light mb-4 md:mb-6 text-white">Ù„ÙˆØ§Ø²Ù… ÛŒØ¯Ú©ÛŒ Ø¢Ù„Ù…Ø§Ù†ÛŒ</h1>
            <p class="text-lg md:text-xl mb-8 md:mb-10 text-white opacity-90">Ú©ÛŒÙÛŒØª Ø§ØµÙ„ØŒ Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨ØŒ Ú¯Ø§Ø±Ø§Ù†ØªÛŒ Ù…Ø¹ØªØ¨Ø±</p>
            <div class="flex flex-col md:flex-row items-center justify-center space-y-3 md:space-y-0 md:space-x-4 md:space-x-reverse">
                <button onclick="scrollToProducts()" class="w-full md:w-auto apple-button text-white px-6 md:px-8 py-3 rounded-full font-medium">
                    Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª
                </button>
                <button onclick="showCatalog()" class="w-full md:w-auto bg-white text-gray-900 px-6 md:px-8 py-3 rounded-full font-medium hover:bg-gray-100">
                    Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ø§ØªØ§Ù„ÙˆÚ¯
                </button>
            </div>
        </div>
    </section>

    <!-- Products Grid -->
    <section class="container mx-auto px-4 py-8 md:py-16" id="productsSection">
        <div class="text-center mb-8 md:mb-12">
            <h2 class="text-2xl md:text-3xl font-light mb-4 text-gray-900">Ù…Ø­ØµÙˆÙ„Ø§Øª</h2>
            <p class="text-gray-600 text-sm md:text-base" id="productsCount">Ù†Ù…Ø§ÛŒØ´ Ù‡Ù…Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</p>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6" id="productsGrid">
            <!-- Products will be populated by JavaScript -->
        </div>
        <div class="text-center mt-6 md:mt-8">
            <button id="loadMoreBtn" onclick="loadMoreProducts()" class="apple-button text-white px-6 py-3 rounded-xl font-medium hidden">
                Ù†Ù…Ø§ÛŒØ´ Ø¨ÛŒØ´ØªØ±
            </button>
        </div>
    </section>

    <!-- User Login/Register Modal -->
    <div id="userModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-lg md:text-xl font-semibold" id="userModalTitle">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
                <button onclick="closeUserModal()" class="text-gray-500 hover:text-gray-700 text-xl">âœ•</button>
            </div>
            
            <!-- Login Form -->
            <div id="loginForm">
                <div class="space-y-4">
                    <input type="tel" id="loginPhone" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                    <input type="password" id="loginPassword" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                </div>
                
                <div class="flex space-x-4 space-x-reverse mt-6">
                    <button onclick="showRegisterForm()" class="flex-1 px-4 py-3 text-gray-600 rounded-xl hover:bg-gray-100">
                        Ø«Ø¨Øª Ù†Ø§Ù…
                    </button>
                    <button onclick="loginUser()" class="flex-1 px-4 py-3 apple-button text-white rounded-xl">
                        ÙˆØ±ÙˆØ¯
                    </button>
                </div>
            </div>
            
            <!-- Register Form -->
            <div id="registerForm" class="hidden">
                <div class="space-y-4">
                    <input type="text" id="registerName" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                    <input type="tel" id="registerPhone" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                    <input type="password" id="registerPassword" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                    <input type="password" id="registerConfirmPassword" placeholder="ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                </div>
                
                <div class="flex space-x-4 space-x-reverse mt-6">
                    <button onclick="showLoginForm()" class="flex-1 px-4 py-3 text-gray-600 rounded-xl hover:bg-gray-100">
                        ÙˆØ±ÙˆØ¯
                    </button>
                    <button onclick="registerUser()" class="flex-1 px-4 py-3 apple-button text-white rounded-xl">
                        Ø«Ø¨Øª Ù†Ø§Ù…
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- User Panel Modal -->
    <div id="userPanelModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold">Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
                <button onclick="closeUserPanel()" class="text-gray-500 hover:text-gray-700">âœ•</button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <button onclick="showUserOrders()" class="p-4 bg-blue-50 rounded-xl text-center hover:bg-blue-100">
                    <div class="text-2xl mb-2">ğŸ“¦</div>
                    <div class="font-medium">Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†</div>
                </button>
                <button onclick="showUserProfile()" class="p-4 bg-green-50 rounded-xl text-center hover:bg-green-100">
                    <div class="text-2xl mb-2">ğŸ‘¤</div>
                    <div class="font-medium">Ù¾Ø±ÙˆÙØ§ÛŒÙ„</div>
                </button>
                <button onclick="showUserAddresses()" class="p-4 bg-purple-50 rounded-xl text-center hover:bg-purple-100">
                    <div class="text-2xl mb-2">ğŸ“</div>
                    <div class="font-medium">Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§</div>
                </button>
            </div>
            
            <div id="userPanelContent">
                <!-- Content will be loaded here -->
            </div>
            
            <div class="mt-6 text-center">
                <button onclick="logoutUser()" class="px-6 py-2 text-red-600 hover:bg-red-50 rounded-xl">
                    Ø®Ø±ÙˆØ¬ Ø§Ø² Ø­Ø³Ø§Ø¨
                </button>
            </div>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div id="productDetailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-4 md:p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-4 md:mb-6">
                <h3 class="text-lg md:text-xl font-semibold" id="productDetailTitle">Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„</h3>
                <button onclick="closeProductDetail()" class="text-gray-500 hover:text-gray-700 text-xl">âœ•</button>
            </div>
            
            <div id="productDetailContent">
                <!-- Product details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Wishlist Modal -->
    <div id="wishlistModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold">Ù„ÛŒØ³Øª Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h3>
                <button onclick="closeWishlist()" class="text-gray-500 hover:text-gray-700">âœ•</button>
            </div>
            
            <div id="wishlistContent">
                <!-- Wishlist items will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Compare Products Modal -->
    <div id="compareModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold">Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</h3>
                <button onclick="closeCompareProducts()" class="text-gray-500 hover:text-gray-700">âœ•</button>
            </div>
            
            <div id="compareContent">
                <!-- Compare content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
            <h3 class="text-xl font-semibold mb-6 text-center">ÙˆØ±ÙˆØ¯ Ù…Ø¯ÛŒØ±</h3>
            
            <div class="space-y-4">
                <div>
                    <input type="password" id="adminPassword" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
                </div>
            </div>
            
            <div class="flex space-x-4 space-x-reverse mt-6">
                <button onclick="closeAdminLogin()" class="flex-1 px-4 py-3 text-gray-600 rounded-xl hover:bg-gray-100">
                    Ø§Ù†ØµØ±Ø§Ù
                </button>
                <button onclick="checkAdminPassword()" class="flex-1 px-4 py-3 apple-button text-white rounded-xl">
                    ÙˆØ±ÙˆØ¯
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="fixed inset-0 bg-white z-50 hidden overflow-y-auto">
        <div class="bg-gray-900 text-white p-4">
            <div class="flex items-center justify-between">
                <h2 class="text-xl font-semibold">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
                <button onclick="closeAdminPanel()" class="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">
                    Ø¨Ø³ØªÙ†
                </button>
            </div>
        </div>

        <div class="container mx-auto px-4 py-8">
            <!-- Admin Navigation -->
            <div class="flex space-x-4 space-x-reverse mb-8">
                <button onclick="showAdminProducts()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700" id="adminProductsBtn">
                    Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª
                </button>
                <button onclick="showAdminOrders()" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700" id="adminOrdersBtn">
                    Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª
                </button>
                <button onclick="showAdminUsers()" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700" id="adminUsersBtn">
                    Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
                </button>
                <button onclick="showAdminReports()" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700" id="adminReportsBtn">
                    Ú¯Ø²Ø§Ø±Ø´Ø§Øª
                </button>
                <button onclick="showAdminSMS()" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700" id="adminSMSBtn">
                    ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…
                </button>
            </div>

            <div id="adminContent">
                <!-- Admin content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Shopping Cart Sidebar -->
    <div id="cartSidebar" class="fixed right-0 top-0 h-full w-full sm:w-80 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-4 md:p-6 border-b">
            <div class="flex items-center justify-between">
                <h3 class="text-lg font-semibold">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h3>
                <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700 text-xl">âœ•</button>
            </div>
        </div>
        
        <div id="cartItems" class="flex-1 overflow-y-auto p-4 md:p-6" style="height: calc(100vh - 200px);">
            <div class="text-center text-gray-500 py-8">
                Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª
            </div>
        </div>
        
        <div class="border-t p-4 md:p-6 bg-white">
            <div class="space-y-2 mb-4">
                <div class="flex justify-between text-sm">
                    <span>Ø¬Ù…Ø¹ Ú©Ù„:</span>
                    <span id="cartSubtotal">0 ØªÙˆÙ…Ø§Ù†</span>
                </div>
                <div class="flex justify-between text-sm">
                    <span>Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„:</span>
                    <span id="cartShipping">Ø±Ø§ÛŒÚ¯Ø§Ù†</span>
                </div>
                <div class="flex justify-between items-center font-semibold text-base md:text-lg border-t pt-2">
                    <span>Ù…Ø¬Ù…ÙˆØ¹:</span>
                    <span id="cartTotal">0 ØªÙˆÙ…Ø§Ù†</span>
                </div>
            </div>
            <button onclick="proceedToCheckout()" class="w-full apple-button text-white py-3 rounded-xl font-medium">
                Ù¾Ø±Ø¯Ø§Ø®Øª
            </button>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-4 md:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <h3 class="text-lg md:text-xl font-semibold mb-4 md:mb-6 text-center">ØªÚ©Ù…ÛŒÙ„ Ø³ÙØ§Ø±Ø´</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                <!-- Customer Info -->
                <div>
                    <h4 class="font-semibold mb-4">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø´ØªØ±ÛŒ</h4>
                    <div class="space-y-4">
                        <input type="text" id="checkoutName" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                        <input type="tel" id="checkoutPhone" placeholder="Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                        <textarea id="checkoutAddress" placeholder="Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm" rows="3"></textarea>
                        <textarea id="checkoutNotes" placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)" class="w-full px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm" rows="2"></textarea>
                    </div>
                </div>
                
                <!-- Order Summary -->
                <div>
                    <h4 class="font-semibold mb-4">Ø®Ù„Ø§ØµÙ‡ Ø³ÙØ§Ø±Ø´</h4>
                    <div id="checkoutSummary" class="space-y-2 mb-4">
                        <!-- Order items will be shown here -->
                    </div>
                    <div class="border-t pt-4">
                        <div class="flex justify-between font-semibold text-lg">
                            <span>Ù…Ø¬Ù…ÙˆØ¹:</span>
                            <span id="checkoutTotal">0 ØªÙˆÙ…Ø§Ù†</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex space-x-4 space-x-reverse mt-6">
                <button onclick="closeCheckout()" class="flex-1 px-4 py-3 text-gray-600 rounded-xl hover:bg-gray-100">
                    Ø§Ù†ØµØ±Ø§Ù
                </button>
                <button onclick="processPayment()" class="flex-1 px-4 py-3 apple-button text-white rounded-xl">
                    Ù¾Ø±Ø¯Ø§Ø®Øª
                </button>
            </div>
        </div>
    </div>

    <!-- About Us Section -->
    <section class="bg-white py-12 md:py-20">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12 md:mb-16">
                <h2 class="text-2xl md:text-3xl font-light mb-4 md:mb-6 text-gray-900">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</h2>
                <p class="text-gray-600 text-base md:text-lg max-w-3xl mx-auto leading-relaxed">
                    B\S PARTS Ø¨Ø§ Ø¨ÛŒØ´ Ø§Ø² 10 Ø³Ø§Ù„ ØªØ¬Ø±Ø¨Ù‡ Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡ ÙˆØ§Ø±Ø¯Ø§Øª Ùˆ ÙØ±ÙˆØ´ Ù„ÙˆØ§Ø²Ù… ÛŒØ¯Ú©ÛŒ Ø§ØµÙ„ Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒ Ø¢Ù„Ù…Ø§Ù†ÛŒØŒ 
                    Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ©ÛŒ Ø§Ø² Ù…Ø¹ØªØ¨Ø±ØªØ±ÛŒÙ† ÙØ±ÙˆØ´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø­ÙˆØ²Ù‡ Ø´Ù†Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                </p>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 md:gap-8">
                <div class="text-center">
                    <div class="text-3xl md:text-4xl mb-3 md:mb-4">ğŸ†</div>
                    <h3 class="text-lg md:text-xl font-medium mb-2 md:mb-3 text-gray-900">Ú©ÛŒÙÛŒØª Ø§ØµÙ„</h3>
                    <p class="text-gray-600 text-sm md:text-base">ØªÙ…Ø§Ù…ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø§ Ø§ØµÙ„ Ùˆ Ø¨Ø§ Ú¯Ø§Ø±Ø§Ù†ØªÛŒ Ù…Ø¹ØªØ¨Ø± Ù‡Ø³ØªÙ†Ø¯</p>
                </div>
                
                <div class="text-center">
                    <div class="text-3xl md:text-4xl mb-3 md:mb-4">ğŸšš</div>
                    <h3 class="text-lg md:text-xl font-medium mb-2 md:mb-3 text-gray-900">ØªØ­ÙˆÛŒÙ„ Ø³Ø±ÛŒØ¹</h3>
                    <p class="text-gray-600 text-sm md:text-base">Ø§Ø±Ø³Ø§Ù„ Ø³Ø±ÛŒØ¹ Ø¨Ù‡ Ø³Ø±Ø§Ø³Ø± Ú©Ø´ÙˆØ± Ø¯Ø± Ú©Ù…ØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ù…Ù…Ú©Ù†</p>
                </div>
                
                <div class="text-center">
                    <div class="text-3xl md:text-4xl mb-3 md:mb-4">ğŸ’°</div>
                    <h3 class="text-lg md:text-xl font-medium mb-2 md:mb-3 text-gray-900">Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨</h3>
                    <p class="text-gray-600 text-sm md:text-base">Ø¨Ù‡ØªØ±ÛŒÙ† Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ø§Ù„Ø§ Ùˆ Ø®Ø¯Ù…Ø§Øª Ø¹Ø§Ù„ÛŒ</p>
                </div>
                
                <div class="text-center">
                    <div class="text-3xl md:text-4xl mb-3 md:mb-4">ğŸ”§</div>
                    <h3 class="text-lg md:text-xl font-medium mb-2 md:mb-3 text-gray-900">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ÙÙ†ÛŒ</h3>
                    <p class="text-gray-600 text-sm md:text-base">Ù…Ø´Ø§ÙˆØ±Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù† Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ ØªØ®ØµØµÛŒ</p>
                </div>
            </div>
            
            <div class="mt-12 md:mt-16 bg-gray-50 rounded-2xl p-6 md:p-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                    <div>
                        <h3 class="text-lg md:text-xl font-medium mb-3 md:mb-4 text-gray-900">Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³</h3>
                        <div class="space-y-2 text-gray-600 text-sm md:text-base">
                            <p class="select-none">Ù…ÙˆØ¨Ø§ÛŒÙ„: 09124583607</p>
                            <p class="select-none">Ø¯ÙØªØ±: 02136059698</p>
                            <p class="select-none">Ø³Ø§Ø¹Ø§Øª Ú©Ø§Ø±ÛŒ: 8 ØµØ¨Ø­ ØªØ§ 8 Ø´Ø¨</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-semibold mb-4">B\S PARTS</h3>
                    <p class="text-gray-400">ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªØ®ØµØµÛŒ Ù„ÙˆØ§Ø²Ù… ÛŒØ¯Ú©ÛŒ Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒ Ø¢Ù„Ù…Ø§Ù†ÛŒ</p>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4">Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a></li>
                        <li><a href="#" class="hover:text-white">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a></li>
                        <li><a href="#" class="hover:text-white">Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4">Ø®Ø¯Ù…Ø§Øª Ù…Ø´ØªØ±ÛŒØ§Ù†</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white">Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø®Ø±ÛŒØ¯</a></li>
                        <li><a href="#" class="hover:text-white">Ø´ÛŒÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª</a></li>
                        <li><a href="#" class="hover:text-white">Ø¶Ù…Ø§Ù†Øª Ùˆ Ú¯Ø§Ø±Ø§Ù†ØªÛŒ</a></li>
                        <li><a href="#" class="hover:text-white">Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h4>
                    <div class="space-y-2 text-gray-400">
                        <p>ğŸ“± 09124583607</p>
                        <p>â˜ï¸ 02136059698</p>
                        <p>ğŸ“§ info@bsparts.ir</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 1403 B\S PARTS. ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
            </div>
        </div>
    </footer>

    <!-- Overlay -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40" onclick="toggleCart()"></div>

    <!-- Notification Toast -->
    <div id="notificationToast" class="fixed top-4 right-4 bg-black text-white px-4 py-2 rounded-xl shadow-lg z-50 transform translate-x-full transition-transform duration-300">
        <span id="notificationMessage"></span>
    </div>

    <script>
        // Enhanced products data with more details
        let products = [
            {
                id: 1,
                name: "Ù„Ù†Øª Ø¹Ù‚Ø¨ BMW 528 - Textar",
                price: 6000000,
                originalPrice: 7000000,
                image: "ğŸ›",
                brand: "BMW",
                category: "brake",
                description: "Ù„Ù†Øª ØªØ±Ù…Ø² Ø¹Ù‚Ø¨ Ø§ØµÙ„ Ø¢Ù„Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ BMW 528",
                stock: 15,
                rating: 4.8,
                reviews: 24,
                specifications: {
                    "Ø¨Ø±Ù†Ø¯": "Textar",
                    "Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡": "Ø¢Ù„Ù…Ø§Ù†",
                    "Ú¯Ø§Ø±Ø§Ù†ØªÛŒ": "12 Ù…Ø§Ù‡",
                    "Ú©Ø¯ ÙÙ†ÛŒ": "2355401"
                },
                tags: ["Ù„Ù†Øª", "ØªØ±Ù…Ø²", "Ø¹Ù‚Ø¨", "BMW", "528"],
                isPopular: true,
                discount: 14
            },
            {
                id: 2,
                name: "Ù„Ù†Øª Ø¬Ù„Ùˆ BMW 528 - Textar",
                price: 6000000,
                originalPrice: 6000000,
                image: "ğŸ›",
                brand: "BMW",
                category: "brake",
                description: "Ù„Ù†Øª ØªØ±Ù…Ø² Ø¬Ù„Ùˆ Ø§ØµÙ„ Ø¢Ù„Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ BMW 528",
                stock: 8,
                rating: 4.9,
                reviews: 31,
                specifications: {
                    "Ø¨Ø±Ù†Ø¯": "Textar",
                    "Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡": "Ø¢Ù„Ù…Ø§Ù†",
                    "Ú¯Ø§Ø±Ø§Ù†ØªÛŒ": "12 Ù…Ø§Ù‡",
                    "Ú©Ø¯ ÙÙ†ÛŒ": "2355402"
                },
                tags: ["Ù„Ù†Øª", "ØªØ±Ù…Ø²", "Ø¬Ù„Ùˆ", "BMW", "528"],
                isPopular: true,
                discount: 0
            },
            {
                id: 3,
                name: "Ø¯ÛŒØ³Ú© ØªØ±Ù…Ø² Ø¬Ù„Ùˆ BMW X4 - Brembo",
                price: 8500000,
                originalPrice: 9500000,
                image: "âš™ï¸",
                brand: "BMW",
                category: "brake",
                description: "Ø¯ÛŒØ³Ú© ØªØ±Ù…Ø² Ø¬Ù„Ùˆ Ø§ØµÙ„ Ø§ÛŒØªØ§Ù„ÛŒØ§ Ø¨Ø±Ø§ÛŒ BMW X4",
                stock: 5,
                rating: 4.7,
                reviews: 18,
                specifications: {
                    "Ø¨Ø±Ù†Ø¯": "Brembo",
                    "Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡": "Ø§ÛŒØªØ§Ù„ÛŒØ§",
                    "Ú¯Ø§Ø±Ø§Ù†ØªÛŒ": "18 Ù…Ø§Ù‡",
                    "Ù‚Ø·Ø±": "370mm"
                },
                tags: ["Ø¯ÛŒØ³Ú©", "ØªØ±Ù…Ø²", "Ø¬Ù„Ùˆ", "BMW", "X4"],
                isPopular: false,
                discount: 11
            },
            {
                id: 4,
                name: "Ú©Ù…Ú© ÙÙ†Ø± Ø¬Ù„Ùˆ Mercedes C-Class - Bilstein",
                price: 12000000,
                originalPrice: 12000000,
                image: "ğŸ”§",
                brand: "Mercedes",
                category: "suspension",
                description: "Ú©Ù…Ú© ÙÙ†Ø± Ø¬Ù„Ùˆ Ø§ØµÙ„ Ø¢Ù„Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ Ù…Ø±Ø³Ø¯Ø³ Ú©Ù„Ø§Ø³ C",
                stock: 0,
                rating: 4.6,
                reviews: 12,
                specifications: {
                    "Ø¨Ø±Ù†Ø¯": "Bilstein",
                    "Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡": "Ø¢Ù„Ù…Ø§Ù†",
                    "Ú¯Ø§Ø±Ø§Ù†ØªÛŒ": "24 Ù…Ø§Ù‡",
                    "Ù†ÙˆØ¹": "Ú¯Ø§Ø²ÛŒ"
                },
                tags: ["Ú©Ù…Ú© ÙÙ†Ø±", "ØªØ¹Ù„ÛŒÙ‚", "Ø¬Ù„Ùˆ", "Mercedes", "C-Class"],
                isPopular: false,
                discount: 0
            },
            {
                id: 5,
                name: "ÙÛŒÙ„ØªØ± Ø±ÙˆØºÙ† Porsche 911 - Mann",
                price: 850000,
                originalPrice: 1000000,
                image: "ğŸ”©",
                brand: "Porsche",
                category: "engine",
                description: "ÙÛŒÙ„ØªØ± Ø±ÙˆØºÙ† Ø§ØµÙ„ Ø¢Ù„Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ Ù¾ÙˆØ±Ø´Ù‡ 911",
                stock: 25,
                rating: 4.9,
                reviews: 45,
                specifications: {
                    "Ø¨Ø±Ù†Ø¯": "Mann",
                    "Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡": "Ø¢Ù„Ù…Ø§Ù†",
                    "Ú¯Ø§Ø±Ø§Ù†ØªÛŒ": "6 Ù…Ø§Ù‡",
                    "Ú©Ø¯ ÙÙ†ÛŒ": "W719/45"
                },
                tags: ["ÙÛŒÙ„ØªØ±", "Ø±ÙˆØºÙ†", "Ù…ÙˆØªÙˆØ±", "Porsche", "911"],
                isPopular: true,
                discount: 15
            },
            {
                id: 6,
                name: "Ø³Ù†Ø³ÙˆØ± ABS BMW F30 - Bosch",
                price: 3200000,
                originalPrice: 3200000,
                image: "ğŸ“¡",
                brand: "BMW",
                category: "electrical",
                description: "Ø³Ù†Ø³ÙˆØ± ABS Ø§ØµÙ„ Ø¢Ù„Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ BMW F30",
                stock: 12,
                rating: 4.5,
                reviews: 8,
                specifications: {
                    "Ø¨Ø±Ù†Ø¯": "Bosch",
                    "Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡": "Ø¢Ù„Ù…Ø§Ù†",
                    "Ú¯Ø§Ø±Ø§Ù†ØªÛŒ": "12 Ù…Ø§Ù‡",
                    "ÙˆÙ„ØªØ§Ú˜": "12V"
                },
                tags: ["Ø³Ù†Ø³ÙˆØ±", "ABS", "Ø¨Ø±Ù‚", "BMW", "F30"],
                isPopular: false,
                discount: 0
            }
        ];

        // Global variables
        let cart = [];
        let wishlist = [];
        let compareList = [];
        let currentUser = null;
        let users = [];
        let orders = [];
        let currentFilter = 'all';
        let currentCategory = 'all';
        let isAdminLoggedIn = false;
        let editingProductId = null;
        let nextProductId = 7;
        let nextOrderId = 1;
        let displayedProducts = 8;
        let searchTimeout;

        // Telegram Bot Configuration
        let TELEGRAM_BOT_TOKEN = localStorage.getItem('telegram_bot_token') || '';
        let TELEGRAM_CHAT_ID = localStorage.getItem('telegram_chat_id') || '';
        let ADMIN_EMAIL = localStorage.getItem('admin_email') || '';
        let SHOP_NAME = localStorage.getItem('shop_name') || 'B\\S PARTS';

        // Initialize the application
        function init() {
            loadDataFromStorage();
            renderProducts();
            updateCartBadge();
            updateWishlistBadge();
            checkUserLogin();
        }

        // Admin product management functions
        function addNewProduct() {
            const name = document.getElementById('newProductName').value.trim();
            const price = parseInt(document.getElementById('newProductPrice').value);
            const originalPrice = parseInt(document.getElementById('newProductOriginalPrice').value) || price;
            const stock = parseInt(document.getElementById('newProductStock').value);
            const brand = document.getElementById('newProductBrand').value;
            const category = document.getElementById('newProductCategory').value;
            const image = document.getElementById('newProductImage').value.trim() || 'ğŸ”§';
            const description = document.getElementById('newProductDescription').value.trim();

            if (!name || !price || stock < 0) {
                showNotification('Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
                return;
            }

            const newProduct = {
                id: nextProductId++,
                name,
                price,
                originalPrice,
                image,
                brand,
                category,
                description,
                stock,
                rating: 4.5,
                reviews: 0,
                specifications: {
                    "Ø¨Ø±Ù†Ø¯": brand,
                    "Ú©Ø´ÙˆØ± Ø³Ø§Ø²Ù†Ø¯Ù‡": "Ø¢Ù„Ù…Ø§Ù†",
                    "Ú¯Ø§Ø±Ø§Ù†ØªÛŒ": "12 Ù…Ø§Ù‡"
                },
                tags: [name.split(' ')[0], category, brand],
                isPopular: false,
                discount: originalPrice > price ? Math.round(((originalPrice - price) / originalPrice) * 100) : 0
            };

            products.push(newProduct);
            saveDataToStorage();
            renderProducts();
            showAdminProducts();
            showNotification('Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯');

            // Clear form
            document.getElementById('newProductName').value = '';
            document.getElementById('newProductPrice').value = '';
            document.getElementById('newProductOriginalPrice').value = '';
            document.getElementById('newProductStock').value = '';
            document.getElementById('newProductImage').value = '';
            document.getElementById('newProductDescription').value = '';
        }

        function editProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            // Fill form with existing data
            document.getElementById('newProductName').value = product.name;
            document.getElementById('newProductPrice').value = product.price;
            document.getElementById('newProductOriginalPrice').value = product.originalPrice;
            document.getElementById('newProductStock').value = product.stock;
            document.getElementById('newProductBrand').value = product.brand;
            document.getElementById('newProductCategory').value = product.category;
            document.getElementById('newProductImage').value = product.image;
            document.getElementById('newProductDescription').value = product.description;

            editingProductId = productId;
            
            // Change button text
            const addButton = document.querySelector('button[onclick="addNewProduct()"]');
            addButton.textContent = 'ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„';
            addButton.setAttribute('onclick', 'updateProduct()');
        }

        function updateProduct() {
            if (!editingProductId) return;

            const product = products.find(p => p.id === editingProductId);
            if (!product) return;

            const name = document.getElementById('newProductName').value.trim();
            const price = parseInt(document.getElementById('newProductPrice').value);
            const originalPrice = parseInt(document.getElementById('newProductOriginalPrice').value) || price;
            const stock = parseInt(document.getElementById('newProductStock').value);
            const brand = document.getElementById('newProductBrand').value;
            const category = document.getElementById('newProductCategory').value;
            const image = document.getElementById('newProductImage').value.trim() || 'ğŸ”§';
            const description = document.getElementById('newProductDescription').value.trim();

            if (!name || !price || stock < 0) {
                showNotification('Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
                return;
            }

            // Update product
            product.name = name;
            product.price = price;
            product.originalPrice = originalPrice;
            product.stock = stock;
            product.brand = brand;
            product.category = category;
            product.image = image;
            product.description = description;
            product.discount = originalPrice > price ? Math.round(((originalPrice - price) / originalPrice) * 100) : 0;

            saveDataToStorage();
            renderProducts();
            showAdminProducts();
            showNotification('Ù…Ø­ØµÙˆÙ„ ÙˆÛŒØ±Ø§ÛŒØ´ Ø´Ø¯');

            // Reset form
            editingProductId = null;
            const addButton = document.querySelector('button[onclick="updateProduct()"]');
            addButton.textContent = 'Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„';
            addButton.setAttribute('onclick', 'addNewProduct()');
            
            // Clear form
            document.getElementById('newProductName').value = '';
            document.getElementById('newProductPrice').value = '';
            document.getElementById('newProductOriginalPrice').value = '';
            document.getElementById('newProductStock').value = '';
            document.getElementById('newProductImage').value = '';
            document.getElementById('newProductDescription').value = '';
        }

        function deleteProduct(productId) {
            if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')) {
                products = products.filter(p => p.id !== productId);
                saveDataToStorage();
                renderProducts();
                showAdminProducts();
                showNotification('Ù…Ø­ØµÙˆÙ„ Ø­Ø°Ù Ø´Ø¯');
            }
        }

        function setActiveAdminTab(activeTabId) {
            const tabs = ['adminProductsBtn', 'adminOrdersBtn', 'adminUsersBtn', 'adminReportsBtn', 'adminSMSBtn'];
            tabs.forEach(tabId => {
                const tab = document.getElementById(tabId);
                if (tab) {
                    if (tabId === activeTabId) {
                        tab.className = 'px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700';
                    } else {
                        tab.className = 'px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700';
                    }
                }
            });
        }

        function updateOrderStatus(orderId, newStatus) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.status = newStatus;
                saveDataToStorage();
                showNotification('ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯');
            }
        }

        function getOrderStatusText(status) {
            const statusMap = {
                'pending': 'Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±',
                'processing': 'Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´',
                'shipped': 'Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡',
                'delivered': 'ØªØ­ÙˆÛŒÙ„ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡'
            };
            return statusMap[status] || status;
        }

        function validatePhoneNumber(phone) {
            const phoneRegex = /^(\+98|0)?9\d{9}$/;
            return phoneRegex.test(phone);
        }

        function showNotification(message) {
            const toast = document.getElementById('notificationToast');
            const messageSpan = document.getElementById('notificationMessage');
            
            messageSpan.textContent = message;
            toast.classList.remove('translate-x-full');
            
            setTimeout(() => {
                toast.classList.add('translate-x-full');
            }, 3000);
        }

        function showCatalog() {
            showNotification('Ú©Ø§ØªØ§Ù„ÙˆÚ¯ Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø³Øª...');
        }

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', init);

        // Telegram Bot Functions
        async function sendTelegramMessage(message) {
            if (!TELEGRAM_BOT_TOKEN || !TELEGRAM_CHAT_ID) {
                console.log('ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø§Øª Ú©Ø§Ù…Ù„ Ù†ÛŒØ³Øª');
                return false;
            }

            try {
                const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                
                const result = await response.json();
                if (result.ok) {
                    console.log('âœ… Ù¾ÛŒØ§Ù… ØªÙ„Ú¯Ø±Ø§Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯:', result);
                    return true;
                } else {
                    console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… ØªÙ„Ú¯Ø±Ø§Ù…:', result);
                    return false;
                }
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…:', error);
                return false;
            }
        }

        // Send order notification to admin via Telegram
        function sendOrderSMS(order) {
            const adminMessage = `ğŸ”” <b>Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯ Ø¯Ø± ${SHOP_NAME}!</b>

ğŸ‘¤ Ù…Ø´ØªØ±ÛŒ: ${order.customerName}
ğŸ“± ØªÙ„ÙÙ†: ${order.customerPhone}
ğŸ’° Ù…Ø¨Ù„Øº: ${order.total.toLocaleString()} ØªÙˆÙ…Ø§Ù†
ğŸ†” Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´: #${order.id}

ğŸ“¦ ${order.items.length} Ù…Ø­ØµÙˆÙ„:
${order.items.map(item => `â€¢ ${item.name} Ã— ${item.quantity}`).join('\n')}

ğŸ“ Ø¢Ø¯Ø±Ø³: ${order.address}
${order.notes ? `ğŸ“ ØªÙˆØ¶ÛŒØ­Ø§Øª: ${order.notes}` : ''}

â° ${new Date().toLocaleString('fa-IR')}

ğŸ”— Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ø±Ø¯ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø´ÙˆÛŒØ¯`;

            // Send to admin via Telegram
            sendTelegramMessage(adminMessage);

            // Customer confirmation message (logged for demo)
            const customerMessage = `Ø³Ù„Ø§Ù… ${order.customerName} Ø¹Ø²ÛŒØ²

âœ… Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¯Ø± ${SHOP_NAME} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯.

ğŸ†” Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´: #${order.id}
ğŸ’° Ù…Ø¨Ù„Øº: ${order.total.toLocaleString()} ØªÙˆÙ…Ø§Ù†
ğŸ“… ØªØ§Ø±ÛŒØ®: ${new Date().toLocaleDateString('fa-IR')}

ğŸ“¦ Ù…Ø­ØµÙˆÙ„Ø§Øª:
${order.items.map(item => `â€¢ ${item.name} Ã— ${item.quantity}`).join('\n')}

ğŸ“ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: 02136059698
ğŸ“± Ù…ÙˆØ¨Ø§ÛŒÙ„: 09124583607

ğŸ™ Ø§Ø² Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ù…ØªØ´Ú©Ø±ÛŒÙ…
${SHOP_NAME}`;

            console.log('ğŸ“§ Ù¾ÛŒØ§Ù… ØªØ§ÛŒÛŒØ¯ Ù…Ø´ØªØ±ÛŒ:', customerMessage);
        }

        // Admin functions for Telegram settings
        function saveTelegramSettings() {
            const botToken = document.getElementById('telegramBotToken').value.trim();
            const chatId = document.getElementById('telegramChatId').value.trim();
            const adminEmail = document.getElementById('adminEmail').value.trim();
            const shopName = document.getElementById('shopName').value.trim();

            if (!botToken || !chatId) {
                showNotification('Ù„Ø·ÙØ§Ù‹ ØªÙˆÚ©Ù† Ø¨Ø§Øª Ùˆ Chat ID Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }

            TELEGRAM_BOT_TOKEN = botToken;
            TELEGRAM_CHAT_ID = chatId;
            ADMIN_EMAIL = adminEmail;
            SHOP_NAME = shopName;

            localStorage.setItem('telegram_bot_token', botToken);
            localStorage.setItem('telegram_chat_id', chatId);
            localStorage.setItem('admin_email', adminEmail);
            localStorage.setItem('shop_name', shopName);

            showNotification('ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯');
        }

        function saveSMSTemplates() {
            const orderConfirmTemplate = document.getElementById('orderConfirmTemplate').value;
            const newOrderAdminTemplate = document.getElementById('newOrderAdminTemplate').value;

            localStorage.setItem('sms_order_confirm_template', orderConfirmTemplate);
            localStorage.setItem('sms_new_order_admin_template', newOrderAdminTemplate);

            showNotification('Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ§Ù…Ú© Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯');
        }

        function sendTestTelegram() {
            const testMessage = document.getElementById('testMessage').value;
            
            if (!testMessage.trim()) {
                showNotification('Ù„Ø·ÙØ§Ù‹ Ù¾ÛŒØ§Ù… ØªØ³Øª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }

            if (!TELEGRAM_BOT_TOKEN || !TELEGRAM_CHAT_ID) {
                showNotification('Ø§Ø¨ØªØ¯Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… Ø±Ø§ Ú©Ø§Ù…Ù„ Ú©Ù†ÛŒØ¯');
                return;
            }

            sendTelegramMessage(testMessage).then(success => {
                if (success) {
                    showNotification('âœ… Ù¾ÛŒØ§Ù… ØªØ³Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!');
                } else {
                    showNotification('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… ØªØ³Øª');
                }
            });
        }

        function sendTestEmail() {
            const testMessage = document.getElementById('testMessage').value;
            
            if (!ADMIN_EMAIL) {
                showNotification('Ø§Ø¨ØªØ¯Ø§ Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø¯ÛŒØ± Ø±Ø§ Ø¯Ø± ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }

            // Simulate email sending (in real implementation, you'd use a backend service)
            console.log('ğŸ“§ Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„ ØªØ³Øª Ø¨Ù‡:', ADMIN_EMAIL);
            console.log('ğŸ“§ Ù…Ø­ØªÙˆØ§ÛŒ Ø§ÛŒÙ…ÛŒÙ„:', testMessage);
            
            showNotification('âœ… Ø§ÛŒÙ…ÛŒÙ„ ØªØ³Øª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)');
        }

        // Data persistence functions
        function loadDataFromStorage() {
            const savedProducts = localStorage.getItem('bsparts_products');
            const savedUsers = localStorage.getItem('bsparts_users');
            const savedOrders = localStorage.getItem('bsparts_orders');
            const savedCurrentUser = localStorage.getItem('bsparts_currentUser');
            const savedCart = localStorage.getItem('bsparts_cart');
            const savedWishlist = localStorage.getItem('bsparts_wishlist');
            const savedNextId = localStorage.getItem('bsparts_nextId');
            const savedNextOrderId = localStorage.getItem('bsparts_nextOrderId');
            
            if (savedProducts) products = JSON.parse(savedProducts);
            if (savedUsers) users = JSON.parse(savedUsers);
            if (savedOrders) orders = JSON.parse(savedOrders);
            if (savedCurrentUser) currentUser = JSON.parse(savedCurrentUser);
            if (savedCart) cart = JSON.parse(savedCart);
            if (savedWishlist) wishlist = JSON.parse(savedWishlist);
            if (savedNextId) nextProductId = parseInt(savedNextId);
            if (savedNextOrderId) nextOrderId = parseInt(savedNextOrderId);
        }

        function saveDataToStorage() {
            localStorage.setItem('bsparts_products', JSON.stringify(products));
            localStorage.setItem('bsparts_users', JSON.stringify(users));
            localStorage.setItem('bsparts_orders', JSON.stringify(orders));
            localStorage.setItem('bsparts_currentUser', JSON.stringify(currentUser));
            localStorage.setItem('bsparts_cart', JSON.stringify(cart));
            localStorage.setItem('bsparts_wishlist', JSON.stringify(wishlist));
            localStorage.setItem('bsparts_nextId', nextProductId.toString());
            localStorage.setItem('bsparts_nextOrderId', nextOrderId.toString());
        }

        // Search functionality
        function searchProducts() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                const query = document.getElementById('searchInput').value.toLowerCase();
                if (query.length > 0) {
                    showSearchSuggestions(query);
                } else {
                    hideSearchSuggestions();
                }
            }, 300);
        }

        function showSearchSuggestions(query) {
            const suggestions = products.filter(product => 
                product.name.toLowerCase().includes(query) ||
                product.tags.some(tag => tag.toLowerCase().includes(query))
            ).slice(0, 5);

            const suggestionsDiv = document.getElementById('searchSuggestions');
            
            if (suggestions.length > 0) {
                suggestionsDiv.innerHTML = suggestions.map(product => `
                    <div onclick="selectSearchSuggestion('${product.name}')" class="p-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0">
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-lg">${product.image}</span>
                            <div>
                                <div class="font-medium text-sm">${product.name}</div>
                                <div class="text-xs text-gray-500">${product.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>
                            </div>
                        </div>
                    </div>
                `).join('');
                suggestionsDiv.classList.remove('hidden');
            } else {
                suggestionsDiv.innerHTML = '<div class="p-3 text-gray-500 text-sm">Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</div>';
                suggestionsDiv.classList.remove('hidden');
            }
        }

        function hideSearchSuggestions() {
            document.getElementById('searchSuggestions').classList.add('hidden');
        }

        function selectSearchSuggestion(productName) {
            document.getElementById('searchInput').value = productName;
            hideSearchSuggestions();
            performSearch();
        }

        function handleSearchEnter(event) {
            if (event.key === 'Enter') {
                performSearch();
            }
        }

        function performSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            if (query) {
                currentFilter = 'search';
                renderProducts();
                hideSearchSuggestions();
                scrollToProducts();
            }
        }

        // Product filtering and sorting
        function filterByBrand(brand) {
            currentFilter = brand;
            currentCategory = 'all';
            displayedProducts = 8;
            renderProducts();
            scrollToProducts();
        }

        function filterByCategory(brand, category) {
            currentFilter = brand;
            currentCategory = category;
            displayedProducts = 8;
            renderProducts();
            scrollToProducts();
        }

        function applyFilters() {
            displayedProducts = 8;
            renderProducts();
        }

        function clearFilters() {
            document.getElementById('priceFilter').value = 'all';
            document.getElementById('stockFilter').value = 'all';
            document.getElementById('sortFilter').value = 'newest';
            document.getElementById('searchInput').value = '';
            currentFilter = 'all';
            currentCategory = 'all';
            displayedProducts = 8;
            renderProducts();
        }

        function getFilteredProducts() {
            let filteredProducts = [...products];
            const query = document.getElementById('searchInput').value.toLowerCase();

            // Apply search filter
            if (currentFilter === 'search' && query) {
                filteredProducts = filteredProducts.filter(product => 
                    product.name.toLowerCase().includes(query) ||
                    product.description.toLowerCase().includes(query) ||
                    product.tags.some(tag => tag.toLowerCase().includes(query))
                );
            } else if (currentFilter !== 'all') {
                filteredProducts = filteredProducts.filter(product => product.brand === currentFilter);
            }

            // Apply category filter
            if (currentCategory !== 'all') {
                filteredProducts = filteredProducts.filter(product => product.category === currentCategory);
            }

            // Apply price filter
            const priceFilter = document.getElementById('priceFilter').value;
            if (priceFilter !== 'all') {
                const [min, max] = priceFilter.split('-').map(Number);
                filteredProducts = filteredProducts.filter(product => 
                    product.price >= min && product.price <= max
                );
            }

            // Apply stock filter
            const stockFilter = document.getElementById('stockFilter').value;
            if (stockFilter === 'instock') {
                filteredProducts = filteredProducts.filter(product => product.stock > 0);
            } else if (stockFilter === 'outofstock') {
                filteredProducts = filteredProducts.filter(product => product.stock === 0);
            }

            // Apply sorting
            const sortFilter = document.getElementById('sortFilter').value;
            switch (sortFilter) {
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    filteredProducts.sort((a, b) => b.rating - a.rating);
                    break;
                case 'popular':
                    filteredProducts.sort((a, b) => b.reviews - a.reviews);
                    break;
                default: // newest
                    filteredProducts.sort((a, b) => b.id - a.id);
            }

            return filteredProducts;
        }

        // Product rendering
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            const filteredProducts = getFilteredProducts();
            const productsToShow = filteredProducts.slice(0, displayedProducts);
            
            grid.innerHTML = productsToShow.map(product => `
                <div class="bg-white rounded-2xl shadow-sm border overflow-hidden product-card relative ${product.stock === 0 ? 'out-of-stock' : ''}">
                    ${product.discount > 0 ? `<div class="discount-badge">${product.discount}% ØªØ®ÙÛŒÙ</div>` : ''}
                    ${product.isPopular ? '<div class="absolute top-2 left-2 bg-yellow-400 text-yellow-900 text-xs px-2 py-1 rounded-full">Ù…Ø­Ø¨ÙˆØ¨</div>' : ''}
                    
                    <div class="p-4 md:p-6 text-center">
                        <div class="mb-3 md:mb-4 text-3xl md:text-4xl cursor-pointer" onclick="showProductDetail(${product.id})">${product.image}</div>
                        <h3 class="font-medium text-base md:text-lg mb-2 text-gray-900 cursor-pointer line-clamp-2" onclick="showProductDetail(${product.id})">${product.name}</h3>
                        <p class="text-gray-600 text-xs md:text-sm mb-3 line-clamp-2">${product.description}</p>
                        
                        <!-- Rating -->
                        <div class="flex items-center justify-center space-x-1 space-x-reverse mb-3">
                            <div class="star-rating text-sm">${'â˜…'.repeat(Math.floor(product.rating))}${'â˜†'.repeat(5-Math.floor(product.rating))}</div>
                            <span class="text-xs text-gray-500">(${product.reviews})</span>
                        </div>
                        
                        <!-- Price -->
                        <div class="space-y-1 md:space-y-2 mb-3 md:mb-4">
                            ${product.discount > 0 ? `<div class="text-xs md:text-sm text-gray-500 line-through">${product.originalPrice.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>` : ''}
                            <div class="text-base md:text-lg font-semibold text-gray-900">
                                ${product.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†
                            </div>
                        </div>
                        
                        <!-- Stock Status -->
                        <div class="mb-3 md:mb-4">
                            ${product.stock > 0 ? 
                                `<span class="text-green-600 text-xs md:text-sm">Ù…ÙˆØ¬ÙˆØ¯ (${product.stock} Ø¹Ø¯Ø¯)</span>` : 
                                '<span class="text-red-600 text-xs md:text-sm">Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯</span>'
                            }
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="space-y-2">
                            <div class="flex space-x-2 space-x-reverse">
                                <button onclick="addToCart(${product.id})" 
                                        class="flex-1 apple-button text-white px-3 md:px-4 py-2 rounded-xl font-medium text-xs md:text-sm ${product.stock === 0 ? 'opacity-50 cursor-not-allowed' : ''}"
                                        ${product.stock === 0 ? 'disabled' : ''}>
                                    ${product.stock === 0 ? 'Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯' : 'Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯'}
                                </button>
                                <button onclick="toggleWishlist(${product.id})" 
                                        class="px-2 md:px-3 py-2 border border-gray-300 rounded-xl hover:bg-gray-50 ${wishlist.includes(product.id) ? 'bg-red-50 text-red-600' : ''}">
                                    ${wishlist.includes(product.id) ? 'â¤ï¸' : 'ğŸ¤'}
                                </button>
                            </div>
                            <div class="flex space-x-2 space-x-reverse text-xs md:text-sm">
                                <button onclick="addToCompare(${product.id})" class="flex-1 text-gray-600 hover:text-gray-900 hidden md:block">
                                    Ù…Ù‚Ø§ÛŒØ³Ù‡
                                </button>
                                <button onclick="showProductDetail(${product.id})" class="flex-1 text-gray-600 hover:text-gray-900">
                                    Ø¬Ø²Ø¦ÛŒØ§Øª
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            // Update products count
            document.getElementById('productsCount').textContent = 
                `Ù†Ù…Ø§ÛŒØ´ ${productsToShow.length} Ø§Ø² ${filteredProducts.length} Ù…Ø­ØµÙˆÙ„`;

            // Show/hide load more button
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            if (filteredProducts.length > displayedProducts) {
                loadMoreBtn.classList.remove('hidden');
            } else {
                loadMoreBtn.classList.add('hidden');
            }
        }

        function loadMoreProducts() {
            displayedProducts += 8;
            renderProducts();
        }

        function scrollToProducts() {
            document.getElementById('productsSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Product detail modal
        function showProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            document.getElementById('productDetailTitle').textContent = product.name;
            document.getElementById('productDetailContent').innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="text-center">
                        <div class="text-8xl mb-4">${product.image}</div>
                        <div class="space-y-2">
                            ${product.discount > 0 ? `<div class="text-lg text-gray-500 line-through">${product.originalPrice.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>` : ''}
                            <div class="text-2xl font-semibold text-gray-900">${product.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>
                            ${product.discount > 0 ? `<div class="text-green-600 font-medium">${product.discount}% ØªØ®ÙÛŒÙ</div>` : ''}
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-semibold mb-2">ØªÙˆØ¶ÛŒØ­Ø§Øª</h4>
                            <p class="text-gray-600">${product.description}</p>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold mb-2">Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ù†Ø¸Ø±Ø§Øª</h4>
                            <div class="flex items-center space-x-2 space-x-reverse">
                                <div class="star-rating text-lg">${'â˜…'.repeat(Math.floor(product.rating))}${'â˜†'.repeat(5-Math.floor(product.rating))}</div>
                                <span class="text-gray-600">${product.rating} Ø§Ø² 5</span>
                                <span class="text-gray-500">(${product.reviews} Ù†Ø¸Ø±)</span>
                            </div>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold mb-2">Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ</h4>
                            <div class="space-y-2">
                                ${Object.entries(product.specifications).map(([key, value]) => `
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">${key}:</span>
                                        <span class="font-medium">${value}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold mb-2">Ù…ÙˆØ¬ÙˆØ¯ÛŒ</h4>
                            <div class="text-lg ${product.stock > 0 ? 'text-green-600' : 'text-red-600'}">
                                ${product.stock > 0 ? `${product.stock} Ø¹Ø¯Ø¯ Ù…ÙˆØ¬ÙˆØ¯` : 'Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯'}
                            </div>
                        </div>
                        
                        <div class="space-y-3">
                            <button onclick="addToCart(${product.id}); closeProductDetail();" 
                                    class="w-full apple-button text-white py-3 rounded-xl font-medium ${product.stock === 0 ? 'opacity-50 cursor-not-allowed' : ''}"
                                    ${product.stock === 0 ? 'disabled' : ''}>
                                ${product.stock === 0 ? 'Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯' : 'Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯'}
                            </button>
                            <div class="flex space-x-2 space-x-reverse">
                                <button onclick="toggleWishlist(${product.id})" 
                                        class="flex-1 px-4 py-2 border border-gray-300 rounded-xl hover:bg-gray-50">
                                    ${wishlist.includes(product.id) ? 'Ø­Ø°Ù Ø§Ø² Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§' : 'Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§'}
                                </button>
                                <button onclick="addToCompare(${product.id})" 
                                        class="flex-1 px-4 py-2 border border-gray-300 rounded-xl hover:bg-gray-50">
                                    Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ù…Ù‚Ø§ÛŒØ³Ù‡
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Reviews Section -->
                <div class="mt-8 border-t pt-8">
                    <h4 class="font-semibold mb-4">Ù†Ø¸Ø±Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h4>
                    <div class="space-y-4">
                        <div class="bg-gray-50 p-4 rounded-xl">
                            <div class="flex items-center justify-between mb-2">
                                <div class="font-medium">Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ÛŒ</div>
                                <div class="star-rating text-sm">â˜…â˜…â˜…â˜…â˜…</div>
                            </div>
                            <p class="text-gray-600 text-sm">Ú©ÛŒÙÛŒØª Ø¹Ø§Ù„ÛŒ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø³Ø±ÛŒØ¹. Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù….</p>
                        </div>
                        
                        ${currentUser ? `
                            <div class="border-t pt-4">
                                <h5 class="font-medium mb-2">Ù†Ø¸Ø± Ø´Ù…Ø§</h5>
                                <div class="space-y-3">
                                    <div class="flex items-center space-x-2 space-x-reverse">
                                        <span class="text-sm">Ø§Ù…ØªÛŒØ§Ø²:</span>
                                        <div class="flex space-x-1 space-x-reverse">
                                            ${[1,2,3,4,5].map(star => `
                                                <button onclick="setRating(${star})" class="text-lg hover:text-yellow-400" data-star="${star}">â˜†</button>
                                            `).join('')}
                                        </div>
                                    </div>
                                    <textarea placeholder="Ù†Ø¸Ø± Ø´Ù…Ø§..." class="w-full px-3 py-2 border border-gray-300 rounded-lg" rows="3"></textarea>
                                    <button class="apple-button text-white px-4 py-2 rounded-lg">Ø«Ø¨Øª Ù†Ø¸Ø±</button>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;

            document.getElementById('productDetailModal').classList.remove('hidden');
            document.getElementById('productDetailModal').classList.add('flex');
        }

        function closeProductDetail() {
            document.getElementById('productDetailModal').classList.add('hidden');
            document.getElementById('productDetailModal').classList.remove('flex');
        }

        // Cart functionality
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product || product.stock === 0) {
                showNotification('Ù…Ø­ØµÙˆÙ„ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª');
                return;
            }

            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                if (existingItem.quantity < product.stock) {
                    existingItem.quantity += 1;
                    showNotification('ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­ØµÙˆÙ„ Ø¯Ø± Ø³Ø¨Ø¯ Ø§ÙØ²Ø§ÛŒØ´ ÛŒØ§ÙØª');
                } else {
                    showNotification('Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª');
                    return;
                }
            } else {
                cart.push({...product, quantity: 1});
                showNotification('Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯');
            }
            
            updateCartBadge();
            updateCartDisplay();
            saveDataToStorage();
        }

        function updateCartBadge() {
            const badge = document.getElementById('cartBadge');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            badge.textContent = totalItems;
        }

        function toggleCart() {
            const sidebar = document.getElementById('cartSidebar');
            const overlay = document.getElementById('overlay');
            
            if (sidebar.classList.contains('translate-x-full')) {
                sidebar.classList.remove('translate-x-full');
                overlay.classList.remove('hidden');
                updateCartDisplay();
            } else {
                sidebar.classList.add('translate-x-full');
                overlay.classList.add('hidden');
            }
        }

        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const cartSubtotal = document.getElementById('cartSubtotal');
            const cartShipping = document.getElementById('cartShipping');
            const cartTotal = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="text-center text-gray-500 py-8">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª</div>';
                cartSubtotal.textContent = '0 ØªÙˆÙ…Ø§Ù†';
                cartShipping.textContent = 'Ø±Ø§ÛŒÚ¯Ø§Ù†';
                cartTotal.textContent = '0 ØªÙˆÙ…Ø§Ù†';
                return;
            }
            
            cartItems.innerHTML = cart.map(item => `
                <div class="flex items-center justify-between py-4 border-b">
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-xl">${item.image}</span>
                        <div>
                            <h4 class="font-medium text-sm">${item.name}</h4>
                            <p class="text-gray-600 text-xs">${item.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2 space-x-reverse">
                        <button onclick="changeQuantity(${item.id}, -1)" class="w-6 h-6 bg-gray-100 rounded text-sm hover:bg-gray-200">-</button>
                        <span class="w-8 text-center">${item.quantity}</span>
                        <button onclick="changeQuantity(${item.id}, 1)" class="w-6 h-6 bg-gray-100 rounded text-sm hover:bg-gray-200">+</button>
                        <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700 ml-2">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `).join('');
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal >= 5000000 ? 0 : 200000;
            const total = subtotal + shipping;
            
            cartSubtotal.textContent = subtotal.toLocaleString() + ' ØªÙˆÙ…Ø§Ù†';
            cartShipping.textContent = shipping === 0 ? 'Ø±Ø§ÛŒÚ¯Ø§Ù†' : shipping.toLocaleString() + ' ØªÙˆÙ…Ø§Ù†';
            cartTotal.textContent = total.toLocaleString() + ' ØªÙˆÙ…Ø§Ù†';
        }

        function changeQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            const product = products.find(p => p.id === productId);
            
            if (item && product) {
                const newQuantity = item.quantity + change;
                
                if (newQuantity <= 0) {
                    removeFromCart(productId);
                } else if (newQuantity <= product.stock) {
                    item.quantity = newQuantity;
                    updateCartBadge();
                    updateCartDisplay();
                    saveDataToStorage();
                } else {
                    showNotification('Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª');
                }
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartBadge();
            updateCartDisplay();
            saveDataToStorage();
            showNotification('Ù…Ø­ØµÙˆÙ„ Ø§Ø² Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø­Ø°Ù Ø´Ø¯');
        }

        // Wishlist functionality
        function toggleWishlist(productId) {
            const index = wishlist.indexOf(productId);
            
            if (index > -1) {
                wishlist.splice(index, 1);
                showNotification('Ø§Ø² Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø­Ø°Ù Ø´Ø¯');
            } else {
                wishlist.push(productId);
                showNotification('Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯');
            }
            
            updateWishlistBadge();
            renderProducts();
            saveDataToStorage();
        }

        function updateWishlistBadge() {
            document.getElementById('wishlistBadge').textContent = wishlist.length;
        }

        function showWishlist() {
            const wishlistProducts = products.filter(p => wishlist.includes(p.id));
            
            document.getElementById('wishlistContent').innerHTML = wishlistProducts.length > 0 ? 
                wishlistProducts.map(product => `
                    <div class="flex items-center justify-between p-4 border-b">
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <span class="text-2xl">${product.image}</span>
                            <div>
                                <h4 class="font-medium">${product.name}</h4>
                                <p class="text-gray-600 text-sm">${product.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</p>
                            </div>
                        </div>
                        <div class="flex space-x-2 space-x-reverse">
                            <button onclick="addToCart(${product.id})" class="apple-button text-white px-3 py-1 rounded-lg text-sm">
                                Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
                            </button>
                            <button onclick="toggleWishlist(${product.id})" class="text-red-500 hover:text-red-700">
                                Ø­Ø°Ù
                            </button>
                        </div>
                    </div>
                `).join('') : 
                '<div class="text-center text-gray-500 py-8">Ù„ÛŒØ³Øª Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª</div>';

            document.getElementById('wishlistModal').classList.remove('hidden');
            document.getElementById('wishlistModal').classList.add('flex');
        }

        function closeWishlist() {
            document.getElementById('wishlistModal').classList.add('hidden');
            document.getElementById('wishlistModal').classList.remove('flex');
        }

        // Compare functionality
        function addToCompare(productId) {
            if (compareList.includes(productId)) {
                showNotification('Ù…Ø­ØµÙˆÙ„ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ù‡ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡');
                return;
            }
            
            if (compareList.length >= 3) {
                showNotification('Ø­Ø¯Ø§Ú©Ø«Ø± 3 Ù…Ø­ØµÙˆÙ„ Ù‚Ø§Ø¨Ù„ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø§Ø³Øª');
                return;
            }
            
            compareList.push(productId);
            showNotification('Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯');
        }

        function showCompareProducts() {
            if (compareList.length === 0) {
                document.getElementById('compareContent').innerHTML = 
                    '<div class="text-center text-gray-500 py-8">Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡</div>';
            } else {
                const compareProducts = products.filter(p => compareList.includes(p.id));
                
                document.getElementById('compareContent').innerHTML = `
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr>
                                    <th class="text-right p-4">Ù…Ø´Ø®ØµØ§Øª</th>
                                    ${compareProducts.map(product => `
                                        <th class="text-center p-4">
                                            <div class="space-y-2">
                                                <div class="text-2xl">${product.image}</div>
                                                <div class="font-medium text-sm">${product.name}</div>
                                                <button onclick="removeFromCompare(${product.id})" class="text-red-500 text-xs">Ø­Ø°Ù</button>
                                            </div>
                                        </th>
                                    `).join('')}
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-t">
                                    <td class="p-4 font-medium">Ù‚ÛŒÙ…Øª</td>
                                    ${compareProducts.map(product => `
                                        <td class="p-4 text-center">${product.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</td>
                                    `).join('')}
                                </tr>
                                <tr class="border-t">
                                    <td class="p-4 font-medium">Ø§Ù…ØªÛŒØ§Ø²</td>
                                    ${compareProducts.map(product => `
                                        <td class="p-4 text-center">${product.rating}/5</td>
                                    `).join('')}
                                </tr>
                                <tr class="border-t">
                                    <td class="p-4 font-medium">Ù…ÙˆØ¬ÙˆØ¯ÛŒ</td>
                                    ${compareProducts.map(product => `
                                        <td class="p-4 text-center ${product.stock > 0 ? 'text-green-600' : 'text-red-600'}">
                                            ${product.stock > 0 ? 'Ù…ÙˆØ¬ÙˆØ¯' : 'Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯'}
                                        </td>
                                    `).join('')}
                                </tr>
                                <tr class="border-t">
                                    <td class="p-4 font-medium">Ø¹Ù…Ù„ÛŒØ§Øª</td>
                                    ${compareProducts.map(product => `
                                        <td class="p-4 text-center">
                                            <button onclick="addToCart(${product.id})" 
                                                    class="apple-button text-white px-3 py-1 rounded-lg text-sm ${product.stock === 0 ? 'opacity-50 cursor-not-allowed' : ''}"
                                                    ${product.stock === 0 ? 'disabled' : ''}>
                                                Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
                                            </button>
                                        </td>
                                    `).join('')}
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `;
            }

            document.getElementById('compareModal').classList.remove('hidden');
            document.getElementById('compareModal').classList.add('flex');
        }

        function removeFromCompare(productId) {
            compareList = compareList.filter(id => id !== productId);
            showCompareProducts();
        }

        function closeCompareProducts() {
            document.getElementById('compareModal').classList.add('hidden');
            document.getElementById('compareModal').classList.remove('flex');
        }

        // User authentication
        function checkUserLogin() {
            if (currentUser) {
                document.getElementById('userDisplayName').textContent = currentUser.name.split(' ')[0];
            }
        }

        function showUserPanel() {
            if (!currentUser) {
                showUserModal();
            } else {
                showUserPanelModal();
            }
        }

        function showUserModal() {
            document.getElementById('userModal').classList.remove('hidden');
            document.getElementById('userModal').classList.add('flex');
        }

        function closeUserModal() {
            document.getElementById('userModal').classList.add('hidden');
            document.getElementById('userModal').classList.remove('flex');
        }

        function showLoginForm() {
            document.getElementById('userModalTitle').textContent = 'ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ';
            document.getElementById('loginForm').classList.remove('hidden');
            document.getElementById('registerForm').classList.add('hidden');
        }

        function showRegisterForm() {
            document.getElementById('userModalTitle').textContent = 'Ø«Ø¨Øª Ù†Ø§Ù…';
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.remove('hidden');
        }

        function loginUser() {
            const phone = document.getElementById('loginPhone').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!phone || !password) {
                showNotification('Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
                return;
            }
            
            const user = users.find(u => u.phone === phone && u.password === password);
            
            if (user) {
                currentUser = user;
                saveDataToStorage();
                checkUserLogin();
                closeUserModal();
                showNotification('Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!');
            } else {
                showNotification('Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª');
            }
        }

        function registerUser() {
            const name = document.getElementById('registerName').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            if (!name || !phone || !password || !confirmPassword) {
                showNotification('Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
                return;
            }
            
            if (password !== confirmPassword) {
                showNotification('Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ùˆ ØªÚ©Ø±Ø§Ø± Ø¢Ù† ÛŒÚ©Ø³Ø§Ù† Ù†ÛŒØ³Øª');
                return;
            }
            
            if (users.find(u => u.phone === phone)) {
                showNotification('Ø§ÛŒÙ† Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øª Ø´Ø¯Ù‡');
                return;
            }
            
            const newUser = {
                id: users.length + 1,
                name,
                phone,
                password,
                addresses: [],
                orders: [],
                createdAt: new Date().toISOString()
            };
            
            users.push(newUser);
            currentUser = newUser;
            saveDataToStorage();
            checkUserLogin();
            closeUserModal();
            showNotification('Ø«Ø¨Øª Ù†Ø§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯');
        }

        function showUserPanelModal() {
            showUserOrders();
            document.getElementById('userPanelModal').classList.remove('hidden');
            document.getElementById('userPanelModal').classList.add('flex');
        }

        function closeUserPanel() {
            document.getElementById('userPanelModal').classList.add('hidden');
            document.getElementById('userPanelModal').classList.remove('flex');
        }

        function showUserOrders() {
            const userOrders = orders.filter(order => order.userId === currentUser.id);
            
            document.getElementById('userPanelContent').innerHTML = userOrders.length > 0 ?
                `<div class="space-y-4">
                    ${userOrders.map(order => `
                        <div class="border rounded-xl p-4">
                            <div class="flex justify-between items-center mb-2">
                                <div class="font-medium">Ø³ÙØ§Ø±Ø´ #${order.id}</div>
                                <div class="text-sm text-gray-500">${new Date(order.createdAt).toLocaleDateString('fa-IR')}</div>
                            </div>
                            <div class="text-sm text-gray-600 mb-2">
                                ${order.items.length} Ù…Ø­ØµÙˆÙ„ - ${order.total.toLocaleString()} ØªÙˆÙ…Ø§Ù†
                            </div>
                            <div class="text-sm">
                                ÙˆØ¶Ø¹ÛŒØª: <span class="font-medium ${order.status === 'delivered' ? 'text-green-600' : order.status === 'processing' ? 'text-blue-600' : 'text-orange-600'}">${getOrderStatusText(order.status)}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>` :
                '<div class="text-center text-gray-500 py-8">Ù‡Ù†ÙˆØ² Ø³ÙØ§Ø±Ø´ÛŒ Ø«Ø¨Øª Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯</div>';
        }

        function showUserProfile() {
            document.getElementById('userPanelContent').innerHTML = `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-1">Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
                        <input type="text" value="${currentUser.name}" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</label>
                        <input type="tel" value="${currentUser.phone}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" readonly>
                    </div>
                    <button class="apple-button text-white px-4 py-2 rounded-lg">Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª</button>
                </div>
            `;
        }

        function showUserAddresses() {
            document.getElementById('userPanelContent').innerHTML = `
                <div class="space-y-4">
                    ${currentUser.addresses.length > 0 ? 
                        currentUser.addresses.map((address, index) => `
                            <div class="border rounded-lg p-4">
                                <div class="font-medium mb-2">${address.title}</div>
                                <div class="text-gray-600 text-sm">${address.address}</div>
                            </div>
                        `).join('') :
                        '<div class="text-center text-gray-500 py-4">Ø¢Ø¯Ø±Ø³ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡</div>'
                    }
                    <button class="w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-gray-400">
                        + Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø¯Ø±Ø³ Ø¬Ø¯ÛŒØ¯
                    </button>
                </div>
            `;
        }

        function logoutUser() {
            currentUser = null;
            cart = [];
            wishlist = [];
            saveDataToStorage();
            document.getElementById('userDisplayName').textContent = 'ÙˆØ±ÙˆØ¯';
            updateCartBadge();
            updateWishlistBadge();
            closeUserPanel();
            showNotification('Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯');
        }

        // Checkout functionality
        function proceedToCheckout() {
            if (cart.length === 0) {
                showNotification('Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª');
                return;
            }
            
            // Pre-fill user data if logged in
            if (currentUser) {
                document.getElementById('checkoutName').value = currentUser.name;
                document.getElementById('checkoutPhone').value = currentUser.phone;
            }
            
            updateCheckoutSummary();
            document.getElementById('checkoutModal').classList.remove('hidden');
            document.getElementById('checkoutModal').classList.add('flex');
        }

        function updateCheckoutSummary() {
            const summaryDiv = document.getElementById('checkoutSummary');
            const totalDiv = document.getElementById('checkoutTotal');
            
            summaryDiv.innerHTML = cart.map(item => `
                <div class="flex justify-between text-sm">
                    <span>${item.name} Ã— ${item.quantity}</span>
                    <span>${(item.price * item.quantity).toLocaleString()} ØªÙˆÙ…Ø§Ù†</span>
                </div>
            `).join('');
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal >= 5000000 ? 0 : 200000;
            const total = subtotal + shipping;
            
            summaryDiv.innerHTML += `
                <div class="border-t pt-2 mt-2">
                    <div class="flex justify-between text-sm">
                        <span>Ø¬Ù…Ø¹ Ú©Ù„:</span>
                        <span>${subtotal.toLocaleString()} ØªÙˆÙ…Ø§Ù†</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„:</span>
                        <span>${shipping === 0 ? 'Ø±Ø§ÛŒÚ¯Ø§Ù†' : shipping.toLocaleString() + ' ØªÙˆÙ…Ø§Ù†'}</span>
                    </div>
                </div>
            `;
            
            totalDiv.textContent = total.toLocaleString() + ' ØªÙˆÙ…Ø§Ù†';
        }

        function closeCheckout() {
            document.getElementById('checkoutModal').classList.add('hidden');
            document.getElementById('checkoutModal').classList.remove('flex');
        }

        function processPayment() {
            const name = document.getElementById('checkoutName').value.trim();
            const phone = document.getElementById('checkoutPhone').value.trim();
            const address = document.getElementById('checkoutAddress').value.trim();
            
            if (!name || !phone || !address) {
                showNotification('Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
                return;
            }
            
            // Validate phone number
            if (!validatePhoneNumber(phone)) {
                showNotification('Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª');
                return;
            }
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal >= 5000000 ? 0 : 200000;
            const total = subtotal + shipping;
            
            // Create order
            const newOrder = {
                id: nextOrderId++,
                userId: currentUser ? currentUser.id : null,
                customerName: name,
                customerPhone: phone,
                address: address,
                notes: document.getElementById('checkoutNotes').value,
                items: [...cart],
                subtotal: subtotal,
                shipping: shipping,
                total: total,
                status: 'pending',
                createdAt: new Date().toISOString()
            };
            
            orders.push(newOrder);
            
            // Update product stock
            cart.forEach(item => {
                const product = products.find(p => p.id === item.id);
                if (product) {
                    product.stock -= item.quantity;
                }
            });
            
            // Send SMS notifications
            sendOrderSMS(newOrder);
            
            // Clear cart
            cart = [];
            updateCartBadge();
            updateCartDisplay();
            saveDataToStorage();
            
            closeCheckout();
            toggleCart();
            
            showNotification('Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª...');
            
            setTimeout(() => {
                // Simulate payment gateway
                window.open(`https://zarinp.al/bsparts?amount=${total}&order=${newOrder.id}`, '_blank');
                showNotification('Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯');
            }, 1500);
        }

        // Admin functionality
        function showAdminLogin() {
            document.getElementById('adminLoginModal').classList.remove('hidden');
            document.getElementById('adminLoginModal').classList.add('flex');
        }

        function closeAdminLogin() {
            document.getElementById('adminLoginModal').classList.add('hidden');
            document.getElementById('adminLoginModal').classList.remove('flex');
            document.getElementById('adminPassword').value = '';
        }

        function checkAdminPassword() {
            const password = document.getElementById('adminPassword').value;
            if (password === 'admin123') {
                isAdminLoggedIn = true;
                closeAdminLogin();
                showAdminPanel();
                showNotification('ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚!');
            } else {
                showNotification('Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª');
            }
        }

        function showAdminPanel() {
            document.getElementById('adminPanel').classList.remove('hidden');
            showAdminProducts();
        }

        function closeAdminPanel() {
            document.getElementById('adminPanel').classList.add('hidden');
            isAdminLoggedIn = false;
        }

        function showAdminProducts() {
            setActiveAdminTab('adminProductsBtn');
            
            document.getElementById('adminContent').innerHTML = `
                <!-- Add New Product Form -->
                <div class="bg-white rounded-2xl shadow-sm border p-6 mb-8">
                    <h3 class="text-lg font-semibold mb-4">Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <input type="text" id="newProductName" placeholder="Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„" class="px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                        <input type="number" id="newProductPrice" placeholder="Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†)" class="px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                        <input type="number" id="newProductOriginalPrice" placeholder="Ù‚ÛŒÙ…Øª Ø§ØµÙ„ÛŒ (ØªÙˆÙ…Ø§Ù†)" class="px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                        <input type="number" id="newProductStock" placeholder="Ù…ÙˆØ¬ÙˆØ¯ÛŒ" class="px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                        
                        <select id="newProductBrand" class="px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                            <option value="BMW">BMW</option>
                            <option value="Mercedes">Ù…Ø±Ø³Ø¯Ø³ Ø¨Ù†Ø²</option>
                            <option value="Porsche">Ù¾ÙˆØ±Ø´Ù‡</option>
                        </select>
                        
                        <select id="newProductCategory" class="px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                            <option value="brake">Ù„Ù†Øª Ùˆ Ø¯ÛŒØ³Ú© ØªØ±Ù…Ø²</option>
                            <option value="suspension">Ø³ÛŒØ³ØªÙ… ØªØ¹Ù„ÛŒÙ‚</option>
                            <option value="engine">Ù‚Ø·Ø¹Ø§Øª Ù…ÙˆØªÙˆØ±</option>
                            <option value="gearbox">Ú¯ÛŒØ±Ø¨Ú©Ø³ Ùˆ Ø¯ÛŒÙØ±Ø§Ù†Ø³ÛŒÙ„</option>
                            <option value="electrical">Ø³ÛŒØ³ØªÙ… Ø¨Ø±Ù‚</option>
                            <option value="body">Ù„ÙˆØ§Ø²Ù… Ø¨Ø¯Ù†Ù‡</option>
                        </select>
                        
                        <input type="text" id="newProductImage" placeholder="ğŸ”§" class="px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                        <input type="text" id="newProductDescription" placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª" class="px-4 py-3 bg-gray-100 border-0 rounded-xl focus:outline-none focus:bg-white focus:shadow-sm">
                    </div>
                    
                    <button onclick="addNewProduct()" class="mt-4 apple-button text-white px-6 py-3 rounded-xl">
                        Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„
                    </button>
                </div>

                <!-- Products Management -->
                <div class="bg-white rounded-2xl shadow-sm border p-6">
                    <h3 class="text-lg font-semibold mb-4">Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª</h3>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b">
                                    <th class="text-right py-3">ØªØµÙˆÛŒØ±</th>
                                    <th class="text-right py-3">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</th>
                                    <th class="text-right py-3">Ù‚ÛŒÙ…Øª</th>
                                    <th class="text-right py-3">Ù…ÙˆØ¬ÙˆØ¯ÛŒ</th>
                                    <th class="text-right py-3">Ø¨Ø±Ù†Ø¯</th>
                                    <th class="text-right py-3">Ø¹Ù…Ù„ÛŒØ§Øª</th>
                                </tr>
                            </thead>
                            <tbody id="adminProductsList">
                                ${products.map(product => `
                                    <tr class="border-b">
                                        <td class="py-3">
                                            <div class="text-2xl">${product.image}</div>
                                        </td>
                                        <td class="py-3">${product.name}</td>
                                        <td class="py-3">${product.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</td>
                                        <td class="py-3 ${product.stock === 0 ? 'text-red-600' : 'text-green-600'}">${product.stock}</td>
                                        <td class="py-3">${product.brand}</td>
                                        <td class="py-3">
                                            <button onclick="editProduct(${product.id})" class="text-blue-600 hover:text-blue-800 ml-2">
                                                ÙˆÛŒØ±Ø§ÛŒØ´
                                            </button>
                                            <button onclick="deleteProduct(${product.id})" class="text-red-600 hover:text-red-800">
                                                Ø­Ø°Ù
                                            </button>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
        }

        function showAdminOrders() {
            setActiveAdminTab('adminOrdersBtn');
            
            document.getElementById('adminContent').innerHTML = `
                <div class="bg-white rounded-2xl shadow-sm border p-6">
                    <h3 class="text-lg font-semibold mb-4">Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª</h3>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b">
                                    <th class="text-right py-3">Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´</th>
                                    <th class="text-right py-3">Ù…Ø´ØªØ±ÛŒ</th>
                                    <th class="text-right py-3">Ù…Ø¨Ù„Øº</th>
                                    <th class="text-right py-3">ÙˆØ¶Ø¹ÛŒØª</th>
                                    <th class="text-right py-3">ØªØ§Ø±ÛŒØ®</th>
                                    <th class="text-right py-3">Ø¹Ù…Ù„ÛŒØ§Øª</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${orders.map(order => `
                                    <tr class="border-b">
                                        <td class="py-3">#${order.id}</td>
                                        <td class="py-3">${order.customerName}</td>
                                        <td class="py-3">${order.total.toLocaleString()} ØªÙˆÙ…Ø§Ù†</td>
                                        <td class="py-3">
                                            <select onchange="updateOrderStatus(${order.id}, this.value)" class="px-2 py-1 border rounded">
                                                <option value="pending" ${order.status === 'pending' ? 'selected' : ''}>Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</option>
                                                <option value="processing" ${order.status === 'processing' ? 'selected' : ''}>Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´</option>
                                                <option value="shipped" ${order.status === 'shipped' ? 'selected' : ''}>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97d8e827f7376958',t:'MTc1NzYxMTk3Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
